# DTEK Emergency Alert Bot üö®

–ë–æ—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è —Ç–∞ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ –µ–∫—Å—Ç—Ä–µ–Ω—ñ –≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –µ–ª–µ–∫—Ç—Ä–æ–µ–Ω–µ—Ä–≥—ñ—ó –Ω–∞ —Å–∞–π—Ç—ñ –î–¢–ï–ö –ö–∏—ó–≤—Å—å–∫—ñ –µ–ª–µ–∫—Ç—Ä–æ–º–µ—Ä–µ–∂—ñ. –ë–æ—Ç —Ä–æ–±–∏—Ç—å —Å–∫—Ä—ñ–Ω—à–æ—Ç –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å—Ç–∞–Ω—É –≤—ñ–¥–∫–ª—é—á–µ–Ω—å —Ç–∞ –Ω–∞–¥—Å–∏–ª–∞—î –π–æ–≥–æ –≤ Telegram –ø—Ä–∏ –∑–º—ñ–Ω—ñ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó.

## –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ
- üì∏ **–°–∫—Ä—ñ–Ω—à–æ—Ç–∏**: –ù–∞–¥—Å–∏–ª–∞—î –≤—ñ–∑—É–∞–ª—å–Ω–µ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∑ —Å–∞–π—Ç—É –î–¢–ï–ö.
- üîÑ **–ê–≤—Ç–æ–æ–Ω–æ–≤–ª–µ–Ω–Ω—è**: –†–µ–¥–∞–≥—É—î —ñ—Å–Ω—É—é—á–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–∏ –∑–º—ñ–Ω—ñ —Å—Ç–∞—Ç—É—Å—É –∞–±–æ –∑–∞–∫—Ä–µ—Å–ª—é—î –π–æ–≥–æ –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è.
- ‚öôÔ∏è **–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è**: –ì–Ω—É—á–∫–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ –∑–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è.
- üê≥ **Docker-ready**: –õ–µ–≥–∫–∏–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose –∑ —É—Å—ñ–º–∞ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—è–º–∏ Playwright.

## –ü—Ä–∏–∫–ª–∞–¥–∏
### –ù–æ–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
![new-message.png](screenshots/new-message.png)
### –ó–∞–∫—Ä–µ—Å–ª—é—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∫–æ–ª–∏ –≤ –î–¢–ï–ö –∑–Ω–∏–∫–∞—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
![new-message.png](screenshots/old-message.png)

## –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç (Docker)

1. **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –≥–æ—Ç–æ–≤–∏–π –æ–±—Ä–∞–∑ (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ):**
   –í–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –≤–∂–µ –∑—ñ–±—Ä–∞–Ω–∏–π –æ–±—Ä–∞–∑ –∑ Docker Hub:
   ```bash
   docker run -d --name dtek-bot \
     --env-file .env \
     -v $(pwd)/data:/data \
     ruslanmelnychenko/dtek-emergency-alert:latest
   ```

2. **–ê–±–æ –∫–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ—ó –∑–±—ñ—Ä–∫–∏:**
   ```bash
   git clone https://github.com/RuslanMelnychenko/dtek-emergency-alert.git
   cd dtek-emergency-alert
   ```

3. **–ù–∞–ª–∞—à—Ç—É–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è:**
   –°–∫–æ–ø—ñ—é–π—Ç–µ –ø—Ä–∏–∫–ª–∞–¥ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó —Ç–∞ –≤–∫–∞–∂—ñ—Ç—å —Å–≤–æ—ó –¥–∞–Ω—ñ:
   ```bash
   cp .env.example .env
   ```
   –í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ `.env`, –¥–æ–¥–∞–≤—à–∏ –≤–∞—à `TELEGRAM_BOT_TOKEN`, `TELEGRAM_CHAT_ID` —Ç–∞ –∞–¥—Ä–µ—Å—É.

3. **–ó–∞–ø—É—Å—Ç—ñ—Ç—å –±–æ—Ç–∞:**
   ```bash
   docker-compose up -d
   ```

## –ó–∞–ø—É—Å–∫ –±—ñ–Ω–∞—Ä–Ω–æ–≥–æ —Ñ–∞–π–ª—É (Local)

–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –º–∞—Ç–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π Go —Ç–∞ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ Playwright.

1. **–í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:**
   ```bash
   go mod download
   ```

2. **–í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å Playwright —Ç–∞ –±—Ä–∞—É–∑–µ—Ä–∏:**
   ```bash
   go run github.com/playwright-community/playwright-go/cmd/playwright@latest install --with-deps chromium
   ```

3. **–°–∫–æ–º–ø—ñ–ª—é–π—Ç–µ —Ç–∞ –∑–∞–ø—É—Å—Ç—ñ—Ç—å:**
   ```bash
   go build -o dtek-bot cmd/bot/main.go
   export TELEGRAM_BOT_TOKEN="your_token"
   export TELEGRAM_CHAT_ID="your_chat_id"
   # ... —ñ–Ω—à—ñ –∑–º—ñ–Ω–Ω—ñ ...
   ./dtek-bot bot-checking --check-interval 300
   ```

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è (.env)

| –ó–º—ñ–Ω–Ω–∞               | –û–ø–∏—Å                                               | –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º          |
|----------------------|----------------------------------------------------|---------------------------|
| `TELEGRAM_BOT_TOKEN` | **–û–±–æ–≤'—è–∑–∫–æ–≤–æ**: –¢–æ–∫–µ–Ω –≤–∞—à–æ–≥–æ Telegram –±–æ—Ç–∞        | -                         |
| `TELEGRAM_CHAT_ID`   | **–û–±–æ–≤'—è–∑–∫–æ–≤–æ**: ID —á–∞—Ç—É –∫—É–¥–∏ –Ω–∞–¥—Å–∏–ª–∞—Ç–∏ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è | -                         |
| `STREET`             | **–û–±–æ–≤'—è–∑–∫–æ–≤–æ**: –ù–∞–∑–≤–∞ –≤—É–ª–∏—Ü—ñ (—è–∫ –Ω–∞ —Å–∞–π—Ç—ñ –î–¢–ï–ö)   | -                         |
| `HOUSE`              | **–û–±–æ–≤'—è–∑–∫–æ–≤–æ**: –ù–æ–º–µ—Ä –±—É–¥–∏–Ω–∫—É (—è–∫ –Ω–∞ —Å–∞–π—Ç—ñ –î–¢–ï–ö)  | -                         |
| `TIME_FORMAT`        | –§–æ—Ä–º–∞—Ç —á–∞—Å—É –¥–ª—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å                        | 15:04 02.01.2006          |
| `TIME_LOCATION`      | –ß–∞—Å–æ–≤–∏–π –ø–æ—è—Å                                       | Europe/Kyiv               |
| `SCREENSHOT_PATH`    | –®–ª—è—Ö –¥–æ —Å–∫—Ä—ñ–Ω—à–æ—Ç—É                                  | data/currentOutstage.jpeg |
| `PREV_FILE_PATH`     | –®–ª—è—Ö –¥–æ —Ñ–∞–π–ª—É –∑—ñ —Å—Ç–∞–Ω–æ–º                            | data/prevData.json        |

## –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è –∑–±—ñ—Ä–∫–∏ (GitHub Actions)

–ü—Ä–∏ –∫–æ–∂–Ω–æ–º—É —Ä–µ–ª—ñ–∑—ñ (—Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ —Ç–µ–≥—É `v*`) –æ–±—Ä–∞–∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–±–∏—Ä–∞—î—Ç—å—Å—è —Ç–∞ –ø—É–±–ª—ñ–∫—É—î—Ç—å—Å—è –Ω–∞ Docker Hub.
–î–ª—è —Ä–æ–±–æ—Ç–∏ —Ü—å–æ–≥–æ —É –≤–∞—à–æ–º—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó GitHub –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –¥–æ–¥–∞—Ç–∏ —Ç–∞–∫—ñ **Secrets** (`Settings -> Secrets and variables -> Actions`):
- `DOCKERHUB_USERNAME`: –≤–∞—à–µ —ñ–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –Ω–∞ Docker Hub.
- `DOCKERHUB_TOKEN`: [Access Token](https://docs.docker.com/security/for-developers/access-tokens/) –¥–ª—è Docker Hub.

## –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó
- [Go](https://golang.org/)
- [Playwright for Go](https://github.com/playwright-community/playwright-go)
- [Telegram Bot API for Go](https://github.com/go-telegram-bot-api/telegram-bot-api)

## –õ—ñ—Ü–µ–Ω–∑—ñ—è
MIT
